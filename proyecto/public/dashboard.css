    :root {
      --bg: #0f172a;          /* slate-900 */
      --panel: #111827;       /* gray-900 */
      --text: #e5e7eb;        /* gray-200 */
      --muted: #9ca3af;       /* gray-400 */
      --brand: #22d3ee;       /* cyan-400 */
      --brand-2: #60a5fa;     /* blue-400 */
      --ok: #34d399;          /* emerald-400 */
      --warn: #fbbf24;        /* amber-400 */
      --danger: #f87171;      /* red-400 */
      --ring: rgba(34, 211, 238, .25);
      --shadow: 0 10px 25px rgba(0,0,0,.25);
    }
    :root.light {
      --bg: #f3f4f6;
      --panel: #ffffff;
      --text: #111827;
      --muted: #6b7280;
      --brand: #0891b2;
      --brand-2: #2563eb;
      --ok: #059669;
      --warn: #d97706;
      --danger: #dc2626;
      --ring: rgba(37, 99, 235, .18);
      --shadow: 0 6px 18px rgba(0,0,0,.08);
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background: radial-gradient(ellipse at 50% -10%, rgba(96,165,250,.12) 0%, transparent 70%) , var(--bg);
      color: var(--text);
      display: flex;
      justify-content: center;
      min-height: 100vh;
    }

    .app {
      width: 100%;
      max-width: 480px;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      gap: 14px;
      padding: 16px;
      margin: 0 auto;
    }

    /* Responsive adjustments for very large screens */
    @media (min-width: 1200px) {
      .app {
        max-width: 500px;
      }
    }

    header.appbar {
      position: sticky;
      top: 0;
      z-index: 10;
      background: linear-gradient(180deg, rgba(0,0,0,.4), transparent), transparent;
      backdrop-filter: blur(6px);
    }

    /* Custom card styles that work with Bootstrap */
    .card.custom-card {
      background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.00)), var(--panel);
      border: 1px solid rgba(255,255,255,.06);
      border-radius: 16px;
      box-shadow: var(--shadow);
    }

    /* Custom row for flex layout */
    .custom-row { display:flex; align-items:center; gap:10px; }
    .space { flex:1; }

    /* Title styling - works with Bootstrap card-body */
    .title .card-body {
      display: flex; align-items: center; gap: 10px; padding: 8px 4px 0;
      flex-wrap: wrap;
      justify-content: space-between;
    }
    .title h1 { font-size: 1.25rem; margin: 0; }
    .muted { color: var(--muted); font-size: .9rem; }

    .toolbar {
      display: flex; gap: 8px; padding: 8px 0 12px;
    }

    /* Custom button styles that work with Bootstrap */
    .btn-custom {
      appearance: none; border: 1px solid rgba(255,255,255,.08);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      color: var(--text);
      padding: 10px 12px; border-radius: 12px; font-weight: 600;
      cursor: pointer;
    }
    .btn-custom:hover { box-shadow: 0 0 0 4px var(--ring) inset; }
    .btn-custom.icon { padding: 10px; line-height: 0; }
    .btn-custom.primary {
      background: linear-gradient(135deg, var(--brand), var(--brand-2));
      border: none; color: white;
    }
    .btn-custom.danger { border-color: transparent; background: linear-gradient(135deg, #fb7185, #ef4444); color: white; }
    .btn-custom.small { padding: 6px 10px; border-radius: 10px; font-size: .9rem; }

    /* Stats - works with Bootstrap grid */
    .stats .card-body {
      padding: 12px;
    }
    .stats .row {
      margin: 0;
    }
    .stats .col-6 {
      padding: 0 6px;
    }
    .stat {
      padding: 12px; border-radius: 12px; background: rgba(255,255,255,.02); border: 1px dashed rgba(255,255,255,.08);
      text-align: center;
    }
    .stat .value { font-size: 1.4rem; font-weight: 800; }
    .stat .label { color: var(--muted); font-size: .8rem; }

    /* Forms - responsive layout */
    form.add {
      padding: 12px;
    }

    /* Mobile: stack vertically */
    @media (max-width: 767px) {
      form.add .row > div {
        margin-bottom: 8px;
      }
    }

    /* Desktop: horizontal layout */
    @media (min-width: 768px) {
      form.add .row {
        display: flex;
        gap: 8px;
      }
      form.add .row > div:first-child {
        flex: 1;
      }
      form.add .row > div:not(:first-child) {
        flex: 0 0 auto;
      }
    }
    input[type="text"], input[type="date"], input[type="number"], input[type="color"], input[type="file"] {
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.08);
      color: var(--text);
      padding: 10px 12px; border-radius: 12px; outline: none;
    }
    input[type="text"]::placeholder { color: var(--muted); }
    label { font-size: .85rem; color: var(--muted); }

    /* Habits */
    .habits { padding: 6px 8px 10px; display: grid; gap: 8px; }
    .habit {
      display:flex; align-items:center; gap: 10px; padding: 10px 12px; border-radius: 12px;
      background: rgba(255,255,255,.03); border: 1px solid rgba(255,255,255,.08);
    }
    .dot { width: 10px; height: 10px; border-radius: 50%; border: 2px solid rgba(255,255,255,.35); }
    .habit-name { font-weight: 600; }
    .habit-actions { margin-left: auto; display:flex; gap:6px; }
    .habit small { color: var(--muted); }

    .divider { height: 1px; background: rgba(255,255,255,.06); margin: 2px 0 10px; }

    /* Chart card */
    .chart-card { padding: 12px; }
    canvas { width: 100% !important; max-height: 260px; }

    /* Footer tools - responsive button layout */
    .tools { padding: 12px; }

    /* Mobile: 2x2 grid */
    @media (max-width: 767px) {
      .tools .row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 8px;
      }
      .tools .row > div {
        display: flex;
      }
      .tools .row > div > * {
        flex: 1;
        width: 100%;
      }
    }

    /* Desktop: 4 buttons in a row */
    @media (min-width: 768px) {
      .tools .row {
        display: flex;
        gap: 8px;
      }
      .tools .row > div {
        flex: 1;
        display: flex;
      }
      .tools .row > div > * {
        flex: 1;
        width: 100%;
      }
    }

    /* Floating toast */
    .toast {
      position: fixed; bottom: 16px; left: 50%; transform: translateX(-50%) translateY(120%);
      transition: transform .35s ease; background: var(--panel); border: 1px solid rgba(255,255,255,.08);
      padding: 10px 14px; border-radius: 12px; box-shadow: var(--shadow); z-index: 50;
    }
    .toast.show { transform: translateX(-50%) translateY(0); }

    /* Mobile friendly date row - works with Bootstrap card-body */
    .date-row .card-body {
      display: flex; gap: 8px; align-items: center; padding: 8px 12px;
      flex-wrap: wrap;
    }
    .streak-badge {
      padding: 6px 10px; border-radius: 999px; font-weight: 700; background: linear-gradient(135deg, #22c55e, #16a34a);
      color: white; font-size: .8rem;
    }
